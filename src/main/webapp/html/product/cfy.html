<!DOCTYPE html>
<html>

<head>
    <!--财富云端产品管理-->
    <title>财富云端产品管理</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:300,400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
    <!-- Bootstrap -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <!-- CSS Libs -->
    <link rel="stylesheet" type="text/css" href="../../lib/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../../lib/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../../lib/css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="../../lib/css/bootstrap-switch.min.css">
    <link rel="stylesheet" type="text/css" href="../../lib/css/checkbox3.min.css">
    <link rel="stylesheet" type="text/css" href="../../lib/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="../../lib/css/dataTables.bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../lib/css/select2.min.css">
    <!-- CSS App -->
    <link rel="stylesheet" type="text/css" href="../../css/style.css">
    <link rel="stylesheet" type="text/css" href="../../css/themes/flat-blue.css">
    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/vue/vue.js"></script>
</head>

<body class="flat-blue">
<div class="app-container" id="studentTable">
    <div class="row content-container">
        <nav class="navbar navbar-default navbar-fixed-top navbar-top" style="z-index: 0;"><!--防止下拉框被拦住-->
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-expand-toggle">
                        <i class="fa fa-bars icon"></i>
                    </button>
                    <ol class="breadcrumb navbar-breadcrumb">
                        <li>产品管理</li>
                        <li class="active">财富云端产品管理</li>
                    </ol>
                    <button type="button" class="navbar-right-expand-toggle pull-right visible-xs">
                        <i class="fa fa-th icon"></i>
                    </button>
                </div>
                <ul class="nav navbar-nav navbar-right">
                    <button type="button" class="navbar-right-expand-toggle pull-right visible-xs">
                        <i class="fa fa-times icon"></i>
                    </button>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-comments-o"></i></a>
                        <ul class="dropdown-menu animated fadeInDown" style="z-index: 99999;">
                            <li class="title">
                                Notification <span class="badge pull-right">0</span>
                            </li>
                            <li class="message">
                                No new notification
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown danger">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-star-half-o"></i> 4</a>
                        <ul class="dropdown-menu danger  animated fadeInDown" style="z-index: 99999;"><!--设置在最外面-->
                            <li class="title">
                                Notification <span class="badge pull-right">4</span>
                            </li>
                            <li>
                                <ul class="list-group notifications">
                                    <a href="#">
                                        <li class="list-group-item">
                                            <span class="badge">1</span> <i class="fa fa-exclamation-circle icon"></i> new registration
                                        </li>
                                    </a>
                                    <a href="#">
                                        <li class="list-group-item">
                                            <span class="badge success">1</span> <i class="fa fa-check icon"></i> new orders
                                        </li>
                                    </a>
                                    <a href="#">
                                        <li class="list-group-item">
                                            <span class="badge danger">2</span> <i class="fa fa-comments icon"></i> customers messages
                                        </li>
                                    </a>
                                    <a href="#">
                                        <li class="list-group-item message">
                                            view all
                                        </li>
                                    </a>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown profile">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Emily Hart <span class="caret"></span></a>
                        <ul class="dropdown-menu animated fadeInDown" style="z-index: 99999;">
                            <li class="profile-img">
                                <img src="../../img/profile/picjumbo.com_HNCK4153_resize.jpg" class="profile-img">
                            </li>
                            <li>
                                <div class="profile-info">
                                    <h4 class="username">Emily Hart</h4>
                                    <p>emily_hart@email.com</p>
                                    <div class="btn-group margin-bottom-2x" role="group">
                                        <button type="button" class="btn btn-default"><i class="fa fa-user"></i> Profile</button>
                                        <button type="button" class="btn btn-default"><i class="fa fa-sign-out"></i> Logout</button>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
                <div style="width: 100%;height: 100%;">
                    <div style="width: 100%;height: 100%; margin: 10px 28%">
                        <form class="form-inline" style="margin-left: 7px; width: 42.5%;height: 100%; float: left;"><!--float: left;让后面一个-->
                            <div class="form-group" style="width: 200px">
                                <select class="form-control input-lg" data-style="btn-info" style="width:69px;">
                                    <option value ="volvo" >请选择</option>
                                    <option value ="姓名">产品编码</option>
                                    <option value="opel">产品名</option>
                                    <option value="audi">产品类型</option>
                                    <option value ="volvo">适用人群</option>
                                    <option value ="saab">期限</option>
                                    <option value="opel">发行机构(公司)</option>
                                    <option value="audi">保险类型</option>
                                    <option value ="姓名">产品编码</option>
                                    <option value="opel">产品名</option>
                                    <option value="audi">起购金额</option>
                                    <option value ="volvo">预期收益率</option>
                                    <option value ="saab">产品规模</option>
                                    <option value="opel">收益分配方式</option>
                                    <option value="audi">产品介绍图</option>
                                    <option value="audi">产品状态</option>

                                </select>
                                <input type="text" class="form-control" id="exampleInputName2" placeholder="姓名" style="width: 60%;margin-left: 2%">
                            </div>
                            <div class="form-group" style="width: 200px">
                                <select class="form-control input-lg" data-style="btn-info" style="width:69px;">
                                    <option value ="volvo">请选择</option>
                                    <option value ="姓名">姓名</option>
                                    <option value="opel">Opel</option>
                                    <option value="audi">Audi</option>
                                    <option value ="volvo">Volvo</option>
                                    <option value ="saab">Saab</option>
                                    <option value="opel">Opel</option>
                                    <option value="audi">Audi</option>
                                </select>
                                <input type="email" class="form-control" id="exampleInputEmail2" placeholder="邮箱" style="width:60%; margin-left: 2%">
                            </div>
                            <button type="submit" class="btn btn-default">查询</button>
                        </form>
                        <button type="button" class="btn btn-default btn-sm btn-info"style="margin: 8px 16px">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true">增加</span>
                        </button>
                    </div>
                    <table class="table table-hover table-condensed">
                        <!-- On rows -->
                        <thead align="center">
                        <td class="info" >产品编码</td>
                        <td class="info" >产品名</td>
                        <td class="info" >产品类型</td>
                        <td class="info" >适用人群</td>
                        <td class="info" >期限</td>
                        <td class="info" >发行机构(公司)</td>
                        <td class="info" >保险类型</td>
                        <td class="info" >保费</td>
                        <td class="info" >保障内容</td>
                        <td class="info" >起购金额</td>
                        <td class="info" >预期收益率</td>
                        <td class="info" >产品规模</td>
                        <td class="info" >收益分配方式</td>
                        <td class="info" >产品介绍图</td>
                        <td class="info" >产品状态</td>
                        <td class="info" >操作</td>
                        </thead>
                        <tr align="center">
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">1</td>
                            <td class="danger">
                                <!--模态框-->
                                <div>
                                    <button type="button" class="btn btn-primary btn-danger btn-xs"  data-toggle="modal" data-target="#myModal">删除</button>
                                    <button type="button" class="btn btn-success btn-xs" style="margin-left: 10px;">修改</button>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>

                <nav aria-label="Page navigation" style="margin-left: 38%">
                    <ul class="pagination">
                        <li class="disabled"><a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>
                        <li class="active"><a href="#">1 <span class="sr-only">(current)</span></a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                        <li><a href="#">5</a></li>
                        <li>
                            <a href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </nav>
        <div class="side-menu sidebar-inverse">
            <nav class="navbar navbar-default" role="navigation">
                <div class="side-menu-container">
                    <div class="navbar-header">
                        <a class="navbar-brand" href="#">
                            <div class="icon fa fa-paper-plane"></div>
                            <div class="title">后台管理</div>
                        </a>
                        <button type="button" class="navbar-expand-toggle pull-right visible-xs">
                            <i class="fa fa-times icon"></i>
                        </button>
                    </div>
                    <ul class="nav navbar-nav">
                        <li>
                            <a href="../index.html">
                                <span class="icon fa fa-tachometer"></span><span class="title">首页</span>
                            </a>
                        </li>
                        <li class="active panel panel-default dropdown">
                            <a data-toggle="collapse" href="#dropdown-element">
                                <span class="icon fa fa-desktop"></span><span class="title">产品管理</span>
                            </a>
                            <!-- Dropdown level 1 -->
                            <div id="dropdown-element" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul class="nav navbar-nav">
                                        <li><a href="../product/cfy.html">财富云端产品管理</a>
                                        </li>
                                        <li><a href="../product/investment.html">投资类产品</a>
                                        </li>
                                        <li><a href="../product/fund.html">基金产品</a>
                                        </li>
                                        <li><a href="../product/Small.html">小额理财</a>
                                        </li>
                                        <li><a href="../product/insurance.html">保险产品</a>
                                        </li>
                                        <li><a href="../product/other.html">其他</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                        <li class="panel panel-default dropdown">
                            <a data-toggle="collapse" href="#dropdown-table">
                                <span class="icon fa fa-table"></span><span class="title">客户管理</span>
                            </a>
                            <!-- Dropdown level 1 -->
                            <div id="dropdown-table" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul class="nav navbar-nav">
                                        <li><a href="../customer/information.html">客户信息管理</a>
                                        </li>
                                        <li><a href="../customer/service.html">客户服务管理</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                        <li class="panel panel-default dropdown">
                            <a data-toggle="collapse" href="#dropdown-form">
                                <span class="icon fa fa-file-text-o"></span><span class="title">交易管理</span>
                            </a>
                            <!-- Dropdown level 1 -->
                            <div id="dropdown-form" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul class="nav navbar-nav">
                                        <li><a href="../transaction/ui-kits.html">交易审核</a>
                                        </li>
                                        <li><a href="../transaction/ui-kits.html">订单管理</a>
                                        </li>
                                        <li><a href="../transaction/ui-subscribe.html">预约管理</a>
                                        </li>
                                        <li><a href="../transaction/ui-earnings.html">收益分配管理</a>
                                        </li>
                                        <li><a href="../transaction/ui-withdraw.html">提现管理</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                        <!-- Dropdown-->
                        <li class="panel panel-default dropdown">
                            <a data-toggle="collapse" href="#component-example">
                                <span class="icon fa fa-cubes"></span><span class="title">员工管理</span>
                            </a>
                            <!-- Dropdown level 1 -->
                            <div id="component-example" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul class="nav navbar-nav">
                                        <li><a href="../staff/components.html">员工信息管理</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                        <!-- Dropdown-->
                        <li class="panel panel-default dropdown">
                            <a data-toggle="collapse" href="#dropdown-example">
                                <span class="icon fa fa-slack"></span><span class="title">合作管理</span>
                            </a>
                            <!-- Dropdown level 1 -->
                            <div id="dropdown-example" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul class="nav navbar-nav">
                                        <li><a href="../cooperative/bank.html">合作银行管理</a>
                                        </li>
                                        <li><a href="../cooperative/company.html">合作公司/机构管理</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                        <!-- Dropdown-->
                        <li class="panel panel-default dropdown">
                            <a data-toggle="collapse" href="#dropdown-icon">
                                <span class="icon fa fa-archive"></span><span class="title">数据报表</span>
                            </a>
                            <!-- Dropdown level 1 -->
                            <div id="dropdown-icon" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul class="nav navbar-nav">
                                        <li><a href="../data/performance.html">理财师业绩表	</a>
                                        </li>
                                        <li><a href="../data/market.html">产品销售情况表</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                        <li class="panel panel-default dropdown">
                            <a data-toggle="collapse" href="#system">
                                <span class="icon fa fa-thumbs-o-up"></span><span class="title">系统管理</span>
                            </a>
                            <!-- Dropdown level 1 -->
                            <div id="system" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <ul class="nav navbar-nav">
                                        <li><a href="../system/position.html">职位管理</a>
                                        </li>
                                        <li><a href="../system/power.html">权限管理</a>
                                        </li>
                                        <li><a href="../system/department.html">部门管理</a>
                                        </li>
                                        <li><a href="../system/database.html">数据库备份</a>
                                        </li>
                                        <li><a href="../system/password.html">修改密码</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- /.navbar-collapse -->
            </nav>
        </div>
        <!-- Main Content -->
        <script type="text/javascript" src="../../lib/js/jquery.min.js"></script>
        <script type="text/javascript" src="../../lib/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="../../lib/js/Chart.min.js"></script>
        <script type="text/javascript" src="../../lib/js/bootstrap-switch.min.js"></script>

        <script type="text/javascript" src="../../lib/js/jquery.matchHeight-min.js"></script>
        <script type="text/javascript" src="../../lib/js/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="../../lib/js/dataTables.bootstrap.min.js"></script>
        <script type="text/javascript" src="../../lib/js/select2.full.min.js"></script>
        <script type="text/javascript" src="../../lib/js/ace/ace.js"></script>
        <script type="text/javascript" src="../../lib/js/ace/mode-html.js"></script>
        <script type="text/javascript" src="../../lib/js/ace/theme-github.js"></script>
        <!-- Javascript -->
        <script type="text/javascript" src="../../js/app.js"></script>
        <script type="text/javascript" src="../../js/alert.js"></script>
    </div>
</div>
<!--模态框-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"  data-backdrop="static" data-keyboard="false">
    <!--加上data-backdrop="static"就能点击阴影部分不让弹层关闭-->
    <!--data-keyboard="false"设置按下ESC退出键无效,为了避免突然的误操作导致模态框关闭-->
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Modal title</h4>
            </div>
            <div class="modal-body">
                确定删除？
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    var pageIndex = 1;
    var student_Vue = new Vue({
        el : "#studentTable",
        data : {
            student : {productCode :"",productName : "",typeId : "",applyCrowd : "",deadline:"",issuerId:"",insuranceType:"",premium:"",insuranceBody:"",startMoney:"",yield:"",scale:"",eamingsAllocation:"",image:"",productState:""},
            student_List : [],
            maxPage : "",
            modalTitle : "增加",
            saveUrl : "",
            selectedId : "",
            currentIndex : 1,
        },
        methods:{
            queryList : function(){
                var _this = this;
                $.ajax({
                    url : "/queryList.action",
                    dataType : "JSON",
                    type : "post",
                    success : function(data){
                        _this._data.student_List = data.list;
                        _this._data.maxPage = data.maxPage;
                    }
                })
            },
            //保存的方法
            save : function(){
                var _this = this;
                $.ajax({
                    url : _this.saveUrl,
                    data : {student : JSON.stringify(_this.student)},
                    type : "post",
                    success : function(data){
                        if(data){
                            _this.modalHide();
                            _this.queryList();
                        }
                    }
                });
            },

            //查询单个的方法
            queryStudent : function(id){
                var _this = this;
                $.ajax({
                    url : "/selectStudentId.action",
                    data : {id : id},
                    dataType : "JSON",
                    success : function(data){
                        console.log(data);
                        _this.student = data;
                    }
                });
            },

            //增加的方法
            insertStudent : function(){
                this.saveUrl = "/insert-Student.action";
                this.modalTitle = "增加";
                this.student = {};
                this.modalShow();
            },

            //修改的方法
            updateStudent : function(id){
                this.saveUrl = "/update-Student.action";
                this.modalTitle = "修改";
                this.queryStudent(id);
                this.modalShow();
            },

            deleteStudentId : function(id){
                this.deleteModalShow();
            },

            //删除的方法
            deleteStudent : function(id){
                var _this = this;
                $.ajax({
                    url : "/delete-Student.action",
                    dataType : "JSON",
                    data : "id="+id,
                    success : function(data){
                        if(data){
                            _this.deleteModalHide();
                            _this.queryList();
                        }
                    }
                });
            },
            //模态框隐藏
            modalHide : function(){
                $("#studentModal").modal("hide");
            },
            //删除模态框隐藏
            deleteModalHide : function(){
                $("#deleteStudentModal").modal("hide");
            },
            //删除模态框隐藏
            deleteModalShow : function(){
                $("#deleteStudentModal").modal("show");
            },
            //模态框显示
            modalShow : function(){
                $("#studentModal").modal("show");
            },
        },

        created : function(){
            this.queryList();
        }
    })

    //下拉菜单
    $(document).ready(function(){
        $(".page").click(function(){
            var maxPage = student_Vue._data.maxPage;
            var selectPage = $(this).text();
            if(selectPage == "首页"){
                pageIndex = 1;
                $("#lastPage").removeClass("button-selected");
                $("#firstPage").addClass("button-selected");
            }
            else if(selectPage == "上一页"){
                if(pageIndex>1){
                    pageIndex = pageIndex -1;
                }
                if(pageIndex==1){
                    $("#lastPage").removeClass("button-selected");
                    $("#firstPage").addClass("button-selected");
                }
            }
            else if(selectPage == "下一页"){
                if(pageIndex<maxPage){
                    pageIndex = pageIndex + 1;
                }
                if(pageIndex==maxPage){
                    $("#firstPage").removeClass("button-selected");
                    $("#lastPage").addClass("button-selected");
                }
            }
            else if(selectPage == "末页"){
                if(pageIndex!=maxPage){
                    pageIndex = maxPage;
                    $("#firstPage").removeClass("button-selected");
                    $("#lastPage").addClass("button-selected");
                }
            }
            var searchValue = $(".searchValue").val();
            $.ajax({
                url : "/queryList.action",
                dataType : "JSON",
                data : "page="+pageIndex+"&search="+searchValue,
                success : function(data){
                    student_Vue._data.student_List = data.list;
                    student_Vue._data.maxPage = data.maxPage;
                    student_Vue._data.currentIndex = pageIndex;
                }
            });

        })

//        模糊查询
        $("#searchStudent").click(function(){
            var searchValue = $(".searchValue").val();
            $.ajax({
                url: "/queryList.action",
                dataType: "JSON",
                data : "search="+ searchValue,
                success: function(data) {
                    student_Vue._data.student_List = data.list;
                    student_Vue._data.maxPage = data.maxPage;
                    student_Vue._data.currentIndex = data.maxPage;
                }
            });
        })

    })

</script>
</html>
